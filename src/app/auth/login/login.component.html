<div align="center">

  <h2 class="title">Iniciar sesión</h2>
  <small class="form-text sub-title">Bienvenido a Apprende!</small>
  <br>

  <form (ngSubmit)="form.form.valid && login()" #form="ngForm" autocomplete="nope">

    <div *ngIf="errors && errors.length > 0" class="alert alert-danger" role="alert">
      <div *ngFor="let error of errors">{{ error }}</div>
    </div>

    <div *ngIf="messages && messages.length > 0" class="alert alert-success" role="alert">
      <div *ngFor="let message of messages">{{ message }}</div>
    </div>

    <div class="form-group">
      <label for="input-email" class="sr-only">Ingrese su correo electrónico</label>
      <input name="email" [(ngModel)]="user.email" id="input-email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" class="form-control"
        placeholder="Nombre de Usuario" #email="ngModel" [class.form-control-danger]="email.invalid && email.touched" 
        [required]="true">
      <small align="left" class="form-text error" *ngIf="email.invalid && email.touched && email.errors?.required">
        Correo requerido!</small>
      <small align="left" class="form-text error" *ngIf="email.invalid && email.touched && email.errors?.pattern">
        Correo deberia ser uno real! </small>
    </div>

    <div class="form-group">
      <label for="input-password" class="sr-only">Contraseña</label>
      <input name="password" [(ngModel)]="user.password" type="password" id="input-password" class="form-control" placeholder="Password"
        #password="ngModel" [class.form-control-danger]="password.invalid && password.touched" [required]="true" [minlength]="3"
        [maxlength]="10">
      <small align="left" class="form-text error" *ngIf="password.invalid && password.touched && password.errors?.required">
        Contraseña requerida!</small>
      <small align="left" class="form-text error" *ngIf="password.invalid && password.touched && (password.errors?.minlength || password.errors?.maxlength)">
        Contraseña debe contener de 3 a 10 caracteres</small>
    </div>

    <div class="form-group accept-group col-sm-12">
      <nb-checkbox name="rememberMe" [(ngModel)]="user.rememberMe">Recordarme</nb-checkbox>
      <a class="forgot-password" routerLink="../recuperar">¿Has olvidado tu contraseña?</a>
    </div>

    <button [disabled]="!form.valid" class="btn btn-block btn-hero-success">Iniciar sesión</button>

  </form>

  <br>
  <div class="links">
    <br>
    <small class="form-text">¿No tienes una cuenta?
      <a routerLink="../register">
        <strong>Registrarse</strong>
      </a>
    </small>
  </div>
  <span>{{errorMessage}}</span>
</div>
